---
name: tdd-enforce
description: >
  TDD(테스트 주도 개발) Red-Green-Refactor 워크플로우를 강제합니다.
  프로덕션 코드 작성 전 반드시 실패하는 테스트를 먼저 작성하도록 안내합니다.
  "TDD", "테스트 주도", "테스트 먼저" 키워드에 활성화.
---

# TDD Enforcement Guide

이 스킬이 활성화되면, 모든 코드 작성은 다음 사이클을 따릅니다.

## Red-Green-Refactor 사이클

### 1. Red (실패하는 테스트 작성)
- 구현하려는 기능의 테스트를 먼저 작성
- 테스트를 실행하여 **FAIL 확인** (반드시 실행)
- 테스트가 실패하지 않으면 → 테스트가 잘못된 것. 수정.

### 2. Green (테스트를 통과하는 최소 코드)
- 테스트를 통과하는 **최소한의** 코드만 작성
- 테스트를 실행하여 **PASS 확인**
- 과도한 구현 금지 (YAGNI)

### 3. Refactor (품질 개선)
- 코드 중복 제거
- 네이밍 개선
- 구조 정리
- 테스트가 여전히 **PASS**인지 확인

## 테스트 작성 규칙

### 구조
```
describe('[기능명]', () => {
  it('정상 케이스를 처리해야 한다', () => {
    // Arrange → Act → Assert
  });

  it('에러 케이스를 처리해야 한다', () => {
    // Arrange → Act → Assert
  });

  it('엣지 케이스를 처리해야 한다', () => {
    // 빈 입력, 최대값, 특수문자 등
  });
});
```

### 커버리지 목표
- 새 코드: 80% 이상
- 핵심 비즈니스 로직: 90% 이상
- 유틸리티 함수: 100%

## 위반 시
프로덕션 코드를 테스트 없이 작성하면:
→ 즉시 중단하고 테스트를 먼저 작성
→ 기존 코드에 대해서도 회귀 테스트 추가
